//todo cleaner way of loading states